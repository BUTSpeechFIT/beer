type: BetaNonLinearSubspaceModel
encoder:
  blocks:
  - residual_connection: 'none'
    structure:
    - ReshapeLayer:shape=(-1,1,28,28)
    - Conv2d:in_channels=1;out_channels=16;kernel_size=(5,5);padding=1;stride=2
    - Softplus
    - Conv2d:in_channels=16;out_channels=32;kernel_size=(5,5);stride=2
    - Softplus
    - Conv2d:in_channels=32;out_channels=32;kernel_size=(5,5);stride=2
    - Softplus
    - ReshapeLayer:shape=(-1,32)
    - Linear:in_features=32;out_features=300
  dim_input_normal_layer: 300
  dim_output_normal_layer: 20
  covariance: diagonal
decoder:
  blocks:
  - residual_connection: 'none'
    structure:
    - Linear:in_features=20;out_features=300
    - Softplus
    - Linear:in_features=300;out_features=32
    - Softplus
    - ReshapeLayer:shape=(-1,32,1,1)
    - ConvTranspose2d:in_channels=32;out_channels=32;kernel_size=(5,5);stride=2
    - Softplus
    - ConvTranspose2d:in_channels=32;out_channels=16;kernel_size=(5,5);stride=2
    - Softplus
    - ConvTranspose2d:in_channels=16;out_channels=1;kernel_size=(5,5);padding=1;stride=2;output_padding=1
    - Softplus
    - ReshapeLayer:shape=(-1,<feadim>)
  dim_input_model_layer: <feadim>
  dim_output_model_layer: <feadim>
latent_model:
  type: Mixture
  prior_strength: 1.
  components:
    type: PLDASet
    size: 10
    dim_noise_subspace: 9
    dim_class_subspace: 9
    prior_strength: 1.
    noise_std: 0.1

